<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MAAT Reflection</title>
<style>
  :root {
    --gold:#C9A227; --bg:#0b0e14; --card:#121623; --text:#e6e6e6;
    --muted:#9aa4b2; --accent:#4da3ff;
  }
  html,body{margin:0;padding:20px;background:var(--bg);color:var(--text);
    font:14px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
  h2{color:var(--gold);font-size:18px;margin-bottom:10px}
  p{color:var(--muted);margin:6px 0 12px}
  .card{background:var(--card);border:1px solid #1f2330;border-radius:12px;
    padding:16px;max-width:840px;margin:auto}
  label{display:block;font-size:12px;color:var(--muted);margin-bottom:4px}
  input,textarea{width:100%;box-sizing:border-box;background:#0d0f15;color:var(--text);
    border:1px solid #23283a;border-radius:8px;padding:8px 10px;font:inherit}
  textarea{min-height:110px;resize:vertical}
  .row{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:10px}
  .btn{background:linear-gradient(180deg,var(--gold),#b58900);border:none;color:#111;font-weight:700;
    padding:10px 14px;border-radius:10px;cursor:pointer;margin-top:14px}
  .bar{height:10px;background:#10131b;border:1px solid #23283a;border-radius:6px;overflow:hidden;margin-top:8px}
  .bar span{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#7bdfff);width:0%}
  .metric{font-size:26px;font-weight:800;color:var(--gold)}
  .mono{background:#0b0e14;border:1px solid #1f2330;border-radius:10px;padding:10px;
    font-family:ui-monospace,Menlo,Consolas,monospace;white-space:pre-wrap;margin-top:8px}
  .grid2{display:grid;gap:12px}@media(min-width:840px){.grid2{grid-template-columns:1fr 1fr}}
</style>
</head>
<body>
<div class="card">
  <h2>MAAT Reflection ðŸŒ¿</h2>
  <p>Evaluate any AI-generated answer through the five MAAT principles. Adjust values (0â€“1) and parameters to compute a score and see improvement tips.</p>

  <label>AI Response to Evaluate</label>
  <textarea id="text" placeholder="Paste the response here..."></textarea>

  <div class="row">
    <div><label>H (Harmony)</label><input id="H" type="number" min="0" max="1" step="0.05" value="0.8"/></div>
    <div><label>B (Balance)</label><input id="B" type="number" min="0" max="1" step="0.05" value="0.8"/></div>
    <div><label>S (Creativity)</label><input id="S" type="number" min="0" max="1" step="0.05" value="0.7"/></div>
    <div><label>V (Connectedness)</label><input id="V" type="number" min="0" max="1" step="0.05" value="0.8"/></div>
    <div><label>R (Respect)</label><input id="R" type="number" min="0" max="1" step="0.05" value="0.9"/></div>
  </div>

  <div class="row">
    <div><label>Î”E</label><input id="dE" type="number" min="0.01" max="0.5" step="0.01" value="0.11"/></div>
    <div><label>Îµ</label><input id="eps" type="number" min="0.001" max="0.05" step="0.001" value="0.01"/></div>
    <div><label>Î±</label><input id="alpha" type="number" min="0.5" max="3" step="0.1" value="1.0"/></div>
  </div>

  <button class="btn" id="compute">Compute MAAT Score</button>

  <div class="grid2" style="margin-top:14px;">
    <div>
      <div class="metric" id="maatVal">â€”</div>
      <div class="bar"><span id="maatBar"></span></div>
      <div class="mono" id="critique">â€”</div>
    </div>
    <div>
      <label>Your Input</label>
      <div class="mono" id="echo">â€”</div>
    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const $ = id => document.getElementById(id);

  function computeMaat() {
    const H = parseFloat($("H").value)||0;
    const B = parseFloat($("B").value)||0;
    const S = parseFloat($("S").value)||0;
    const V = parseFloat($("V").value)||0;
    const R = parseFloat($("R").value)||0;
    const dE = parseFloat($("dE").value)||0.1;
    const eps = parseFloat($("eps").value)||0.01;
    const alpha = parseFloat($("alpha").value)||1.0;

    // core + score
    const core = (H*B*S*V*R)/(dE+eps);
    const maat = 10*(1/(1+Math.exp(-alpha*Math.log(1+core))));
    $("maatVal").textContent = maat.toFixed(2);
    $("maatBar").style.width = `${Math.min(10,Math.max(0,maat))*10}%`;

    // guidance
    const dims = [
      {k:"Harmony", v:H, tip:"Tighten structure; state assumptions; remove contradictions."},
      {k:"Balance", v:B, tip:"Include counterarguments and trade-offs; avoid one-sided claims."},
      {k:"Creativity", v:S, tip:"Add one original, feasible idea or analogy supported by evidence."},
      {k:"Connectedness", v:V, tip:"Link to context, stakeholders, and system-level effects."},
      {k:"Respect", v:R, tip:"Address ethics, safety, bias, privacy, and inclusiveness."},
    ].sort((a,b)=>a.v-b.v);
    const weakest = dims.slice(0,2);
    const critique =
      `MAAT = ${maat.toFixed(2)}  |  core = ${(core).toFixed(3)}\n` +
      `Weakest: ${weakest.map(w=>`${w.k} (${w.v.toFixed(2)})`).join(", ")}\n\n` +
      weakest.map(w=>`â€¢ ${w.tip}`).join("\n");
    $("critique").textContent = critique;

    // echo input
    const txt = $("text").value.trim();
    $("echo").textContent = txt.length ? txt : "â€”";
  }

  // events
  $("compute").addEventListener("click", computeMaat);
  // live update as user types/changes values
  ["text","H","B","S","V","R","dE","eps","alpha"].forEach(id=>{
    $(id).addEventListener("input", computeMaat);
  });

  // initial
  computeMaat();
});
</script>
</body>
</html>